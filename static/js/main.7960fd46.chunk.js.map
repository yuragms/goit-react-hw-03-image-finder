{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/Loader/Loader.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/App.module.css","Components/Searchbar/SearchBar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Modal/Modal.jsx","Components/Button/Button.jsx","Components/Loader/Loader.jsx","Components/API/API.js","Components/App.js","index.js","Components/Searchbar/SearchBar.module.css"],"names":["module","exports","SearchBar","state","searchFieldvalue","handleFieldChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","className","style","Searchbar","this","SearchForm","type","button","label","input","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","hits","onClick","map","item","src","webformatURL","alt","tags","image","largeImageURL","id","ImageGallery","Modal","handleEscClose","code","handleCloseModal","document","addEventListener","removeEventListener","url","tag","handleBackdropClose","Overlay","ButtonMore","handleClickLoadMore","Button","Spinner","wrapperloader","color","height","width","timeout","loader","api","fetchFirstArr","nextFieldvalue","page","fetch","then","response","json","console","log","App","data","loading","error","selectedlargeImageURL","taglargeImage","handleClickImage","largeImage","tagObject","find","target","handleFormSubmit","prevState","prevProps","prevFieldvalue","fetchAPI","length","window","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","showButton","ModBut","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7960fd46.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__VPBD0\",\"image\":\"ImageGalleryItem_image__OnRa_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__33Ypd\",\"Modal\":\"Modal_Modal__3ihEg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperloader\":\"Loader_wrapperloader__28Y85\",\"loader\":\"Loader_loader__21nCC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1hnjP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__HOrbw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ModBut\":\"App_ModBut__ztu0Z\"};","import style from \"./SearchBar.module.css\";\nimport React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\n// import PropTypes from 'prop-types';\n\nclass SearchBar extends Component {\n  state = {\n    searchFieldvalue: \"\",\n  };\n\n  handleFieldChange = (e) => {\n    this.setState({ searchFieldvalue: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (this.state.searchFieldvalue.trim() === \"\") {\n      toast(\"Вы ввели пустое поле\");\n      return;\n    }\n    this.props.onSubmit(this.state.searchFieldvalue);\n    this.setState({ searchFieldvalue: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={style.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={style.SearchForm}>\n          <button type=\"submit\" className={style.button}>\n            <span className={style.label}>Search</span>\n          </button>\n\n          <input\n            className={style.input}\n            type=\"text\"\n            value={this.state.searchFieldvalue}\n            onChange={this.handleFieldChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\n// SearchBar.propTypes = {\n\n// };\n\nexport default SearchBar;\n","import style from \"./ImageGalleryItem.module.css\";\n\nexport default function ImageGalleryItem({ hits, onClick }) {\n  return (\n    <>\n      {hits.map((item) => (\n        <li key={item.id} className={style.ImageGalleryItem}>\n          <img\n            src={item.webformatURL}\n            alt={item.tags}\n            className={style.image}\n            onClick={() => onClick(item.largeImageURL)}\n          />\n        </li>\n      ))}\n    </>\n  );\n}\n","import style from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"./../ImageGalleryItem/ImageGalleryItem.jsx\";\n\nexport default function ImageGallery({ hits, onClick }) {\n  return (\n    <ul className={style.ImageGallery}>\n      <ImageGalleryItem hits={hits} onClick={onClick} />\n    </ul>\n  );\n}\n\n//   const Section = ({ title, children }) => {\n//     return (\n//       <Container>\n//         <Title>{title}</Title>\n//         {children}\n//       </Container>\n//     );\n//   };\n\n//   export default Section;\n","import React, { Component } from \"react\";\nimport style from \"./Modal.module.css\";\nimport PropTypes from \"prop-types\";\n\nclass Modal extends Component {\n  static propTypes = {\n    url: PropTypes.string,\n    tag: PropTypes.string,\n    handleBackdropClose: PropTypes.func.isRequired,\n    handleCloseModal: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.handleEscClose);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.handleEscClose);\n  }\n\n  handleEscClose = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.handleCloseModal();\n    }\n  };\n\n  render() {\n    const { url, tag, handleBackdropClose } = this.props;\n    return (\n      <div className={style.Overlay} onClick={(e) => handleBackdropClose(e)}>\n        <div className={style.Modal}>\n          <img src={url} alt={tag} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import style from \"./Button.module.css\";\n\nexport default function ButtonMore({ handleClickLoadMore }) {\n  return (\n    <button\n      className={style.Button}\n      type={\"button\"}\n      onClick={handleClickLoadMore}\n    >\n      Load more\n    </button>\n  );\n}\n","import Loader from \"react-loader-spinner\";\n// import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport style from \"./Loader.module.css\";\n\nexport const Spinner = () => (\n  <div className={style.wrapperloader}>\n    <Loader\n      type=\"Oval\"\n      color=\"LightSkyBlue\"\n      height={100}\n      width={100}\n      timeout={3000}\n      className={style.loader}\n    />\n  </div>\n);\n","function fetchFirstArr(nextFieldvalue, page) {\n  return fetch(\n    `https://pixabay.com/api/?q=${nextFieldvalue}&page=${page}&key=22652626-da7dc8e3a4ffdfdaea60a5cb5&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response) {\n      return response.json();\n    }\n\n    return console.log(`Нету данных о ${nextFieldvalue}`);\n  });\n}\n\nconst api = {\n  fetchFirstArr,\n};\n\nexport default api;\n\n// .then((res) => res.json());\n// Promise.reject(new Error (`Нету данных с ${nextFieldvalue}`));\n\n// (response) => {\n//   if (response.status.ok) {\n//     return response.json();\n//   }\n// return console.log(`Нету данных о ${nextFieldvalue}`);\n// }\n","import React, { Component } from \"react\";\nimport SearchBar from \"./Searchbar/SearchBar.jsx\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport ImageGallery from \"./ImageGallery/ImageGallery.jsx\";\nimport Modal from \"./Modal/Modal.jsx\";\nimport ButtonMore from \"./Button/Button.jsx\";\nimport style from \"./App.module.css\";\nimport { Spinner } from \"./Loader/Loader.jsx\";\nimport fetchAPI from \"./API/API.js\";\n\nclass App extends Component {\n  state = {\n    data: [],\n    page: 1,\n    loading: false,\n    searchFieldvalue: \"\",\n    error: null,\n    selectedlargeImageURL: null,\n    taglargeImage: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevFieldvalue = prevState.searchFieldvalue;\n    const nextFieldvalue = this.state.searchFieldvalue;\n    const page = this.state.page;\n\n    if (prevFieldvalue !== nextFieldvalue || prevState.page !== page) {\n      console.log(\"ИЗМЕНИЛОСЬ ПОЛЕ ПОСКА\");\n\n      this.setState({ loading: true });\n\n      fetchAPI\n        .fetchFirstArr(nextFieldvalue, page)\n        .then((data) => {\n          if (data.hits.length > 0) {\n            console.log(7777);\n          } else {\n            this.setState({ error: 1 });\n          }\n          this.setState({ data: [...data.hits] });\n        })\n        .then(\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          })\n        )\n        .catch((error) => this.setState({ error }))\n        .finally(() => this.setState({ loading: false }));\n    }\n\n    if (prevState.page !== page) {\n      console.log(\"Изменилась пагинация\");\n\n      this.setState({ loading: true });\n\n      fetchAPI\n        .fetchFirstArr(nextFieldvalue, page)\n        .then((data) => {\n          this.setState({ data: [...prevState.data, ...data.hits] });\n        })\n        .then(\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          })\n        )\n        .catch((error) => this.setState({ error }))\n        .finally(() => this.setState({ loading: false }));\n    }\n  }\n\n  handleClickImage = (largeImage) => {\n    // this.setState({ selectedImage: largeImageURL });\n    console.log(largeImage);\n    const data = this.state.data;\n    const tagObject = data.find((item) => item.largeImageURL === largeImage);\n    if (tagObject) {\n      const tag = tagObject.tags;\n      console.log(tag);\n      this.setState({ selectedlargeImageURL: largeImage });\n      this.setState({ taglargeImage: tag });\n    }\n  };\n\n  handleCloseModal = () => {\n    this.setState({ selectedlargeImageURL: null });\n    this.setState({ taglargeImage: null });\n  };\n\n  handleBackdropClose = (e) => {\n    if (e.currentTarget === e.target) {\n      this.handleCloseModal();\n    }\n  };\n\n  handleFormSubmit = (searchFieldvalue) => {\n    console.log(`searchFieldvalue 12`);\n\n    this.setState({ searchFieldvalue, page: 1, data: [], error: null });\n  };\n\n  handleClickLoadMore = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n\n  render() {\n    const { data, loading, error, selectedlargeImageURL, taglargeImage } =\n      this.state;\n\n    const showButton = data.length > 0;\n    console.log(`data999`);\n    return (\n      <div>\n        <SearchBar onSubmit={this.handleFormSubmit} />\n        {error && <h1>Нет данных с таким запросом</h1>}\n        {loading && <Spinner />}\n\n        {data && <ImageGallery hits={data} onClick={this.handleClickImage} />}\n        {showButton && (\n          <div className={style.ModBut}>\n            <ButtonMore handleClickLoadMore={this.handleClickLoadMore} />\n          </div>\n        )}\n\n        <ToastContainer autoClose={3000} />\n        {selectedlargeImageURL && (\n          <Modal\n            url={selectedlargeImageURL}\n            tag={taglargeImage}\n            handleBackdropClose={this.handleBackdropClose}\n            handleCloseModal={this.handleCloseModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./Components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1Zg9m\",\"SearchForm\":\"SearchBar_SearchForm__j7pKz\",\"button\":\"SearchBar_button__2GXd0\",\"label\":\"SearchBar_label__2KM2T\",\"input\":\"SearchBar_input__21W2e\"};"],"sourceRoot":""}